#### 计算性能

#### 编译器和解释器

符号式编程类似于tensorflow框架，代码通常只在完全定义了过程之后才执行计算。一般包括以下步骤：

* 定义计算流程
* 将流程编译成可执行的程序
* 给定输入， 调用编译好的程序执行。（**编译器**）

命令式（解释型）类似python编程和符号式编程的区别如下：

* 命令式编程更容易使用。在python中， 命令式编程的大部分代码都是简单易懂的。命令式编程也更容易调试， 这是因为无论是获取和打印所有的中间变量值， 或者使用python的内置调用工具都更加简单。
* 符号式编程运行效率更高， 更易于移植。符号式编程更容易在编译期间优化代码， 同时还能将程序移植到与python无关的格式中， 从而允许程序在非python环境中运行， 避免了任何潜在的与python解释器相关的性能问题。



#### 异步计算

计算机是高度并行的系统， 由多个`CPU`核， 多个`GPU`， 多个处理单元组成。通常每个`CPU`核有多个线程， 每个设备通常有多个`GPU`， 每个`GPU`有多个处理单元。我们可以同时处理许多不同的事情， 并且通常是在不同的设备上。

默认情况下， `GPU`操作在`pytorch`中是异步的。强制`pytorch`在返回之前完成所有计算， 这种强制说明了之前发生的情况： 计算是由后端执行， 而前端将控制权返回给了`python`

**GPU和其他加速卡**

在实践中经常会有这样一个判别： 加速卡是为训练还是推断而优化的？

对于推断， 我们只需要计算网络中的前向传播。而反向传播不需要存储中间数据。还有，我们可能不需要非常精确的计算（FP16或INT8）。而对于训练， 训练过程中需要存储所有的中间结果用来计算梯度。而且，累积梯度也需要更高的精度， 以避免数值下溢。这意味着最低要求也是FP32, 所以这些都需要更快，更大的内存和更高的处理能力。

